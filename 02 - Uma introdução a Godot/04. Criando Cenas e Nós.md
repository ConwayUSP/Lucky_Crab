# Criando Cenas e N√≥s
Explicamos o que s√£o Cenas e N√≥s a apenas 2 cap√≠tulos atr√°s, ent√£o vou assumir que voc√™ lembra da parte te√≥rica (sen√£o v√° ler o cap√≠tulo de novo). Mas aqui vai uma recapitula√ß√£o:

1. **N√≥s** (Nodes): s√£o os blocos fundamentais do seu jogo, eles podem ser coisas simples como uma imagem, a algo mais complexo como um player;
2. **Cenas** (Scenes): s√£o √°rvores de n√≥s, podemos agrupar n√≥s e produzir fra√ß√µes reutiliz√°veis do nosso jogo, como um cen√°rio, ou um jogador.

Agora chega de aula, vamos ver na pr√°tica o que √© um n√≥ e uma cena.

## Criando um novo projeto
Primeiro de tudo, abra seu editor do Godot e crie um projeto como voc√™ aprendeu no cap√≠tulo passado, pode cham√°-lo de qualquer coisa, como `hello-projeto`, ou seja criativo ‚ú®.
## Criando um n√≥

No momento voc√™ est√° com uma cena vazia. √Ä sua esquerda, o editor oferece algumas op√ß√µes de cenas para serem criadas, como: `2D Scene`; `3D Scene`; e `User Interface`. Esses s√£o modelos de cenas pr√©-prontos para agilizar as coisas, no momento n√£o queremos isso. Clique em `Other Node`. Isso criar√° um popup onde voc√™ pode adicionar qualquer tipo de n√≥ dispon√≠vel.

![no editor Godot, clique no bot√£o +Other Node](../assets/criando-node-01.png)

Pesquise por um n√≥ chamado `Label` e clique nele e confirme em `Create` para adicion√°-lo. O n√≥ `Label` √© apenas um n√≥ que permite que voc√™ adicione texto dentro dele.

![no editor crie um n√≥ label](../assets/criando-label.png)

Agora, voc√™ deve ter o n√≥ selecionado (se ele n√£o estiver, clique nele na √°rvore de n√≥s). Sendo assim, voc√™ deve estar vendo no lado direito as propriedades do seu n√≥. Dentro do campo `text` insira uma frase, como "Hello, World!". 

Na tela principal, sua mensagem vai aparecer, agora clique no s√≠mbolo de m√∫ltiplas setas que deve estar acima da tela central, ou aperte `w`, para entrar no modo de movimento. 

![[Pasted image 20250514192620.png]]

Feito isso, arraste o seu *Label* para o centro da tela.
![[Pasted image 20250514192725.png]]

Excelente! Est√° na hora de executar essa cena.
## Executando a Cena

Aperte o bot√£o *Run current Scene*, no canto superior direito ou aperte `F6`. Ao fazer isso pela primeira vez, um popup ir√° abrir pedindo para inserir o nome em que a cena ser√° salva, coloque *label* e aperte para *Salvar*. 
![[Pasted image 20250514194317.png]]
Agora o sua cena deve aparecer em *FileSystem* no canto inferior esquerdo dentro da pasta `res://`. Ap√≥s salvar a cena, uma nova janela deve abrir e voc√™ deve ver um fundo cinza com sua mensagem escrita no meio. Meus parab√©ns voc√™ criou sua primeira cena.

![[Pasted image 20250514194939.png]]
Eu entendo, n√£o √© a tela mais bonita ou interessante do mundo, mas o que conta √© a personalidade! Voc√™ pode fechar a tela com `F8` e rodar a mesma cena novamente com `F5` (*Run project scene*).

## Instanciando Cenas

Nesse √∫ltimo exemplo n√≥s criamos uma √∫nica cena, mas um projeto pode ser composto por uma variedade de cenas agrupadas em arquivos  `.tscn`. Isso permite modelar situa√ß√µes mais complexas. Uma vez que uma cena √© constru√≠da, voc√™ pode replic√°-la em outras cenas, chamamos isso de **instanciamento** (*instancing*).
## Jogando Basquete

Hora de botar a m√£o na massa e montar um projeto simples, faremos uma superf√≠cie onde uma bola de basquete vai quicar.

![basket-ball-bouncing](../assets/basket-ball-bouncing.mp4)

Bem legal certo? ~~Por favor diga que sim üò¢ ~~. Para chegarmos a esse resultado vamos criar 3 cenas, a ***principal***, a ***parede***, e a ***bola***. Sendo a primeira uma composi√ß√£o das duas √∫ltimas.

Fique √† vontade para criar outro projeto, ou usar o mesmo que est√°vamos utilizando. Eu irei criar uma projeto em branco chamado *basket-ball*.
### A Bola

A bola do jogo, o elemento mais importante da nossa cena. Vamos criar uma cena que cont√©m apenas nossa bola de basquete. 

Faremos como no exemplo anterior, criaremos um n√≥ raiz, escolhendo a op√ß√£o `Other Node`. Pesquise pela op√ß√£o `RigidBody2D` e crie-o. Voc√™ n√£o ver√° muita coisa na tela, estamos apenas definindo as propriedades de um corpo r√≠gido (um s√≥lido afetado pela f√≠sica) de 2 dimens√µes, precisamos dar forma ao nosso corpo. Criaremos um n√≥ filho chamado `CollisionShape2D`. Na √°rvore de n√≥s selecione o n√≥ raiz e clique com o bot√£o direito, e selecione `Create child node`, ou aperte `Ctrl-A`. O n√≥ `CollisionShape2D` faz exatamente o que ele indica, ele concede uma forma 2D ao n√≥ pai. Temos que agora definir essa forma. Na aba *inspector* √† sua direita voc√™ ver√° um campo chamado *Shape*, selecione `New CircleShape2D`, nosso n√≥ tomar√° a forma de uma bola.
![[Pasted image 20250521150354.png]]

Muito bem, se voc√™ for√ßar a vista ver√° um pequeno circulo azul na sua tela principal, aquilo √© nossa corpo r√≠gido. Use o mouse e arreste para o centro da cena, depois disso, segure o ponto vermelho do circulo e ajuste seu raio. Algo assim:
![[Pasted image 20250521150758.png]]
Temos nossa bola, ou pelo menos sua forma f√≠sica. Precisamos conced√™-la uma apar√™ncia, e para fazer isso, vamos adicionar uma imagem para nosso n√≥. Crie um novo n√≥ para nosso `RigidBody2D`, escolha o tipo `Sprite2D`, um *sprite* √© uma imagem na linguagem dos jogos. Agora precisamos uma imagem, voc√™ pode usar essa daqui:

![basket-ball|200x200](../assets/basketball-147794_1920.png)
(Essa imagem foi retirada do [PixaBay](https://pixabay.com/vectors/basketball-ball-sport-orange-ball-147794/), feita pelo [Openclipart-vectors](https://pixabay.com/users/openclipart-vectors-30363/)). 

Ou use a image que preferir.

Adicione sua imagem ao *FileSystem* do projeto (jogue a imagem l√°). Agora, v√° para o inspetor do sprite e jogue a imagem do *FileSystem* para o campo *Texture*. Em primeira inst√¢ncia, sua imagens estar√° fora de escala, ajuste o tamanho dela para caber dentro do *collision* *shape* (ou ajuste o collision shape). O resultado deve se parecer com isso.
![[Pasted image 20250521160848.png]]
Muito bem, vamos rodar essa cena. Pressione `F5` e salve o arquivo como `ball.tscn`. Veja a m√°gica acontecer.

![video-basket-ball-caindo](../assets/basket-ball-falling.mp4)

Uau que incr√≠vel! Agora aqui vai a explica√ß√£o do que voc√™ viu. Nossa bola foi criada, e puxada para baixo pela gravidade *ad infinitum*, uma vez que n√£o criamos um ch√£o (Oops). Antes de partir para a pr√≥xima etapa, vamos ajustar mais uma coisa. Vamos renomear nosso n√≥ raiz para *Ball*, para que quando reutilizarmos esse n√≥, consigamos diferenci√°-lo de outros *RigidBody2D*. Clique no n√≥ e selecione *Renomear*. **N√£o esque√ßa de salvar**. Pronto! Hora de criar nossa parede (ch√£o).
### A Parede

Vamos criar nossa segunda cena. Crie uma nova aba, clicando no *+* na aba de cenas ou apertando `Ctrl-N`. Essa cena ser√° nosso ch√£o ou parede. Queremos um corpo r√≠gido que n√£o √© afetado pela gravidade, sen√£o ele cairia junto com a bola, felizmente o *Godot* nos fornece um n√≥ com essas caracter√≠sticas. Chamado *StaticBody2D*, ele ser√° a raiz da nossa cena. Voc√™ j√° sabe como fazer (ou pelo menos deveria...)! 

Agora repetiremos os passos da cria√ß√£o da bola. Queremos atribuir uma forma f√≠sica e uma *sprite* √† nossa cena. Crie um *Sprite2D* e *CollisionShape2D*.  Para nossa forma selecione o *RectangleShape2D*, e ajuste o tamanho. E, para nossa *sprite*, adicione a seguinte imagem ao seu projeto:
 ![chao-madeira-branca|400x300](../assets/floor-624772_1280.jpg)
(Essa imagem foi retirada do [PixaBay](https://pixabay.com/photos/floor-home-pattern-texture-624772/), feita pelo [jewolf](https://pixabay.com/users/jewolf-752106/))

Depois disso, ajuste o tamanho da imagem e da caixa de colis√£o para algo que caiba na tela. Veja como meu exemplo ficou:

![[Pasted image 20250521202044.png]]

Temos uma t√°bua! Vamos salvar e renomear nosso n√≥ como *wall* (eu sei que √© um ch√£o!), e rodar nossa cena.

![[Pasted image 20250521202516.png]]
Exuberante!
### A Cena principal

Voc√™ est√° indo muito bem! Para a √∫ltima etapa vamos juntar todas as cenas que criamos em uma √∫nica cena. Crie uma nova cena dessa vez sua raiz ser√° apenas um *Node2D* -- um n√≥ gen√©rico sem muita personalidade üëÄ. 

Desse jeito, vamos adicionar inst√¢ncias das cenas que j√° criamos. Apertando `Ctrl-Shift-A`, ou apertando o bot√£o direito e selecionando *Instantiate Child Scene*. Isso abrir um *popup* com as cenas dentro do projeto, selecione e adicione ambas. √ìtimo, agora nosso piso e bola est√£o na mesma cena. Posicione de uma forma em que a bola caia em cima da plataforma.

![[Pasted image 20250521230840.png]]

Desse jeito est√° bom. Vamos rodar a nossa cena.

![basket-ball-fall](../assets/basket-ball-fall.mp4)

Conseguimos fazer o que pretend√≠amos, mas ainda n√£o est√° satisfat√≥rio. Afinal de contas, uma bola de basquete √© feita de borracha, ela precisa quicar ao cair de uma certa altura. Felizmente, podemos resolver isso com algumas modifica√ß√µes. De volta para a cena da bola. 

Queremos modificar alguns par√¢metros do nosso corpo r√≠gido. Para fazer precisamos sobre-escrever as propriedades f√≠sicas do nosso n√≥. Selecione o n√≥ raiz e v√° para a se√ß√£o de inspe√ß√£o. No campo *Physical Material*, selecione *New Physical Material*. Nessa aba, podemos modificar atributos como *bounce* (elasticidade) e *friction* (fric√ß√£o). Coloque *bounce* como 1 e *friction* como 0. Salve a cena. Atualiza√ß√µes na cena original ser√£o repassadas a todas as suas inst√¢ncias. Agora rode a cena principal novamente, e veja o resultado.

![basket-ball-bouncing](../assets/basket-ball-bouncing.mp4)
## Editando Inst√¢ncias

J√° vimos que √© poss√≠vel editar uma cena e atualizar suas inst√¢ncias, mas ser√° que podemos **atualizar inst√¢ncias individualmente**? A **resposta √© sim**!  Vamos criar outras bolas dentro da nossa cena principal. 

Primeiro, crie outra inst√¢ncia da bola, ela receber√° automaticamente o nome de *Ball2*. Para modificar suas propriedades, selecione-a, e v√° para o inspetor, no campo *Physical Material*, clique para criar um *New Physical Material* e edite suas propriedades.

![[Pasted image 20250521234021.png]]

Rodando nossa cena veremos como as duas bolas se comportam de jeitos distintos. Brinque um pouco com esses valores e veja o resultado.

![basket-balls-boucing](../assets/basket-balls-bouncing.mp4)
## Conclus√£o

Nesse tutorial exploramos os conceitos mais fundamentais do Godot. Al√©m disso, pensar em cenas e inst√¢ncias ajuda a **montar** **a estrutura do seu jogo**. Por exemplo, voc√™ pode criar uma cena que recebe inst√¢ncias de todos os objetos vis√≠veis pelo seu jogador, e modific√°-las com base em necessidades espec√≠ficas. Na pr√≥xima vez que estiver criando um jogo, tente modelar um diagrama de cenas, para entender melhor quem inst√¢ncia quem. Acredite isso pode te ajudar bastante. Por hoje √© s√≥ pessoal, nos vemos na pr√≥xima com mais tutoriais!
## Exerc√≠cio

Agora que voc√™ aprendeu sobre n√≥s e cenas, vamos te passar um exerc√≠cio para fixar o conte√∫do. Crie uma cena onde tenha v√°rias plataformas, e bolas com diferentes propriedades f√≠sicas. Se quiser altere as *sprites* de cada bola para deix√°-las √∫nicas. 

Fique √† vontade para **compartilhar** sua resolu√ß√£o **com** a **gente**.